<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <title>Tableau de bord</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-gray-100 to-blue-100 min-h-screen text-gray-800">
    <div class="max-w-5xl mx-auto mt-12 p-6 bg-white shadow-xl rounded-xl animate-fade-in">
        <h1 class="text-3xl font-bold text-center mb-6">üëã Bonjour, {{ user.name }}</h1>

        <h2 class="text-xl font-semibold mb-4 text-gray-700">üß© Vos p√©riph√©riques s√©lectionn√©s</h2>

        {% if selections %}
        <div class="overflow-x-auto">
            <table class="min-w-full bg-white border border-gray-300 rounded-lg shadow-sm">
                <thead class="bg-gray-200 text-gray-700">
                    <tr>
                        <th class="px-4 py-3 border">Type de p√©riph√©rique</th>
                        <th class="px-4 py-3 border">Quantit√©</th>
                        <th class="px-4 py-3 border">Prix unitaire (‚Ç¨)</th>
                        <th class="px-4 py-3 border">Total (‚Ç¨)</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in selections %}
                    <tr class="hover:bg-gray-100 transition">
                        <td class="px-4 py-3 border">{{ item.device.name }}</td>
                        <td class="px-4 py-3 border">{{ item.quantity }}</td>
                        <td class="px-4 py-3 border">{{ '%.2f'|format(item.device.price) }}</td>
                        <td class="px-4 py-3 border">{{ '%.2f'|format(item.quantity * item.device.price) }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="mt-4 bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 rounded">
            <p><strong>Total g√©n√©ral :</strong> {{ '%.2f'|format(total) }} ‚Ç¨</p>
        </div>
        {% else %}
        <div class="mt-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded">
            Aucun p√©riph√©rique s√©lectionn√© pour le moment.
        </div>
        {% endif %}

        <div class="mt-6 flex flex-col sm:flex-row justify-center gap-4 flex-wrap">
            <a href="{{ url_for('main.select_devices') }}"
               class="bg-green-500 hover:bg-green-600 text-white font-semibold px-6 py-3 rounded-lg shadow transition duration-300 text-center">
               ‚ûï Ajouter des p√©riph√©riques
            </a>
            <a href="{{ url_for('main.logout') }}"
               class="bg-red-500 hover:bg-red-600 text-white font-semibold px-6 py-3 rounded-lg shadow transition duration-300 text-center">
               üö™ Se d√©connecter
            </a>
            <a href="{{ url_for('main.telecharger_facture') }}"
               class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg shadow transition duration-300 text-center">
               üìÑ T√©l√©charger la facture PDF
            </a>
        </div>
    </div>
</body>
</html>
